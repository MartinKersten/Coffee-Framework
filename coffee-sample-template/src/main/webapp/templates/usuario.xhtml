<?xml version="1.0" encoding="UTF-8"?>
<ui:application
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="urn:coffee:sugar:components:ui"

		template="template.xhtml"
		onComplete="onApplicationComplete()">

	<script>
	
		var validator;
	
		function onApplicationComplete() {
			validator = new Validator();
		}
	
		function onSalvarClick() {
			
			if (!validator.isValid()) {
				alert(validator.getLastErrorMessage());
				validator.focusInvalidField();
				return false;
			}
			
			if (nome.value == "") {
				alert("Campo 'nome' é de preenchimento obrigatório!");
                return false;
            }
			
			application.submit();
		}

        function onNomeBlur() {
            tabs.selectTag(1); // Algo para selecionar a próxima aba.
        }

	</script>

    <ui:Tabs id="tabs">
	    <ui:Form label="Informações Gerais">
		    <ui:FormItem label="Nome:" required="true" >
			    <ui:TextInput name="nome" value="#{usuario.nome}" onBlur="onNomeBlur()" />
		    </ui:FormItem>
	    </ui:Form>
        <ui:Form label="Mais informações">
		    <ui:FormItem label="Sobrenome:" required="true" >
			    <ui:TextInput name="nome" value="#{usuario.sobrenome}" />
		    </ui:FormItem>
        </ui:Form>
    </ui:Tabs>

    <ui:ButtonBar>
	    <ui:Button label="Salvar" onClick="onSalvarClick()" />
	    <ui:Button label="Cancelar" onClick="" />
    </ui:ButtonBar>

</ui:application>
